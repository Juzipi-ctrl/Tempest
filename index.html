<!DOCTYPE html>
<html>

<head>
    <title>Tempest</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        /* 居中显示卡片 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: '微软雅黑'; /* 修改字体 */
            font-size: 17px; /* 修改字体大小 */
        }

        .countdown-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 500px;
            height: 550px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            padding: 20px; /* 增加整体内边距 */
            box-sizing: border-box; /* 确保内边距包含在宽度和高度内 */
        }

        .card-header {
            background-color: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            font-size: 24px; /* 修改字体大小 */
            font-weight: bold;
            color: #333;
            width: 100%;
            box-sizing: border-box;
        }

        .card-header .hourglass-icon:before {
            content: '\23F3'; /* 使用Unicode字符表示沙漏图标 */
            font-size: 36px;
            margin-right: 18px;
            font-family: '微软雅黑'; /* 修改字体 */
            
        }

        .card-body {
            padding: 20px;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            height: 100%;
            box-sizing: border-box;
        }

        .countdown-item {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 30%;
            box-sizing: border-box;
        }

        .countdown-label {
            font-size: 18px;
            color: #333;
            width: 100%;
            text-align: center;
        }

        .countdown-progress {
            background-color: #f5f5f5;
            border-radius: 5px;
            height: 15px; /* 增加进度条高度 */
            overflow: hidden;
            position: relative;
            width: 90%; /* 调整进度条宽度 */
            margin: 0.5cm; /* 添加边距 */
            box-sizing: border-box;
        }

        .countdown-progress-bar {
            height: 100%;
            border-radius: 5px;
            width: 0;
            background-color: #007bff;
            background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
            background-size: 20px 20px;
            animation: progress-scroll 1s linear infinite;
            transition: width 0.5s ease;
        }

        #year-progress {
            background-color: #ff7e5f;
        }

        #month-progress {
            background-color: #6a11cb;
        }

        #day-progress {
            background-color: #00b096;
        }

        /* 动画效果 */
        @keyframes progress-scroll {
            from {
                background-position: 0 0;
            }
            to {
                background-position: -20px 0;
            }
        }
    </style>
</head>

<body>
    <div class="countdown-card">
        <div class="card-header">
            <i class="hourglass-icon"></i>
            时光沙漏
        </div>
        <div class="card-body">
            <div class="countdown-item">
                <div class="countdown-label">今年剩余时间</div>
                <div class="countdown-progress">
                    <div class="countdown-progress-bar" id="year-progress"></div>
                </div>
                <div id="year-time"></div>
            </div>
            <div class="countdown-item">
                <div class="countdown-label">本月剩余时间</div>
                <div class="countdown-progress">
                    <div class="countdown-progress-bar" id="month-progress"></div>
                </div>
                <div id="month-time"></div>
            </div>
            <div class="countdown-item">
                <div class="countdown-label">今天剩余时间</div>
                <div class="countdown-progress">
                    <div class="countdown-progress-bar" id="day-progress"></div>
                </div>
                <div id="day-time"></div>
            </div>
        </div>
    </div>
    <script>
        function updateCountdown() {
            const now = new Date();

            // 今年剩余时间
            const yearEnd = new Date(now.getFullYear(), 11, 31, 23, 59, 59);
            const yearTotal = yearEnd - new Date(now.getFullYear(), 0, 1);
            const yearRemaining = yearEnd - now;
            const yearProgress = ((yearTotal - yearRemaining) / yearTotal) * 100;

            $('#year-progress').css('width', `${yearProgress}%`);
            $('#year-time').text(`${Math.floor(yearRemaining / (1000 * 60 * 60 * 24))}天`);

            // 本月剩余时间
            const monthEnd = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59, 59);
            const monthTotal = monthEnd - new Date(now.getFullYear(), now.getMonth(), 1);
            const monthRemaining = monthEnd - now;
            const monthProgress = ((monthTotal - monthRemaining) / monthTotal) * 100;

            $('#month-progress').css('width', `${monthProgress}%`);
            $('#month-time').text(`${Math.floor(monthRemaining / (1000 * 60 * 60 * 24))}天`);

            // 今天剩余时间
            const dayEnd = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59);
            const dayTotal = 24 * 60 * 60 * 1000; // 一天的总毫秒数
            const dayRemaining = dayEnd - now;
            const dayProgress = ((dayTotal - dayRemaining) / dayTotal) * 100;

            $('#day-progress').css('width', `${dayProgress}%`);
            const hoursRemaining = Math.floor(dayRemaining / (1000 * 60 * 60));
            const minutesRemaining = Math.floor((dayRemaining % (1000 * 60 * 60)) / (1000 * 60));

            $('#day-time').text(`${hoursRemaining}小时${minutesRemaining}分钟`);
        }

        // 初始化并每秒更新一次
        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>

</html>
